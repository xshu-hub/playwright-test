{"uid":"905e7640dec5cf0b","name":"员工完整生命周期测试","fullName":"tests.test_employee_e2e.TestEmployeeE2E#test_employee_full_lifecycle","historyId":"d3e71fabcbfd2a7d988319f1d5b6ed12","time":{"start":1769617103165,"stop":1769617112848,"duration":9683},"description":"\n        测试员工完整生命周期\n\n        完整 E2E 流程:\n        1. 创建新员工\n        2. 搜索验证员工存在\n        3. 编辑员工信息\n        4. 再次验证修改\n        5. 删除员工\n        6. 验证员工已删除\n        ","descriptionHtml":"<pre><code>    测试员工完整生命周期\n\n    完整 E2E 流程:\n    1. 创建新员工\n    2. 搜索验证员工存在\n    3. 编辑员工信息\n    4. 再次验证修改\n    5. 删除员工\n    6. 验证员工已删除\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: 创建员工失败\nassert ('viewPersonalDetails' in 'https://opensource-demo.orangehrmlive.com/web/index.php/pim/addEmployee' or False)\n +  where False = is_success_toast_displayed()\n +    where is_success_toast_displayed = <pages.employee_form_page.EmployeeFormPage object at 0x7f60dd0d2540>.is_success_toast_displayed","statusTrace":"tests/test_employee_e2e.py:300: in test_employee_full_lifecycle\n    assert \"viewPersonalDetails\" in current_url or form.is_success_toast_displayed(), (\nE   AssertionError: 创建员工失败\nE   assert ('viewPersonalDetails' in 'https://opensource-demo.orangehrmlive.com/web/index.php/pim/addEmployee' or False)\nE    +  where False = is_success_toast_displayed()\nE    +    where is_success_toast_displayed = <pages.employee_form_page.EmployeeFormPage object at 0x7f60dd0d2540>.is_success_toast_displayed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":8,"retriesStatusChange":false,"beforeStages":[{"name":"context","time":{"start":1769617096304,"stop":1769617096309,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1769617096309,"stop":1769617096472,"duration":163},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"logged_in_page","time":{"start":1769617096472,"stop":1769617101211,"duration":4739},"status":"passed","steps":[{"name":"打开登录页面","time":{"start":1769617096472,"stop":1769617098849,"duration":2377},"status":"passed","steps":[{"name":"导航到: 'https://opensource-demo.orangehrmlive.com/web/index.php/auth/login'","time":{"start":1769617096472,"stop":1769617098025,"duration":1553},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://opensource-demo.orangehrmlive.com/web/index.php/auth/login'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"等待元素可见","time":{"start":1769617098025,"stop":1769617098849,"duration":824},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"'button[type='submit']'"},{"name":"timeout","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"使用管理员账号登录","time":{"start":1769617098850,"stop":1769617100267,"duration":1417},"status":"passed","steps":[{"name":"使用账号 'Admin' 登录","time":{"start":1769617098850,"stop":1769617100267,"duration":1417},"status":"passed","steps":[{"name":"输入用户名: 'Admin'","time":{"start":1769617098850,"stop":1769617098864,"duration":14},"status":"passed","steps":[{"name":"输入文本","time":{"start":1769617098850,"stop":1769617098864,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"'input[name='username']'"},{"name":"text","value":"'Admin'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"username","value":"'Admin'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"输入密码","time":{"start":1769617098864,"stop":1769617098886,"duration":22},"status":"passed","steps":[{"name":"输入文本","time":{"start":1769617098865,"stop":1769617098886,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"'input[name='password']'"},{"name":"text","value":"'admin123'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"password","value":"'admin123'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"点击登录按钮","time":{"start":1769617098886,"stop":1769617100267,"duration":1381},"status":"passed","steps":[{"name":"点击元素","time":{"start":1769617098886,"stop":1769617100267,"duration":1381},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"'button[type='submit']'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"username","value":"'Admin'"},{"name":"password","value":"'admin123'"}],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"等待元素可见","time":{"start":1769617100267,"stop":1769617101211,"duration":944},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"'.oxd-userdropdown'"},{"name":"timeout","value":"15000"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":12,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"logged_in_pim","time":{"start":1769617101211,"stop":1769617103164,"duration":1953},"status":"passed","steps":[{"name":"打开 PIM 员工列表页面","time":{"start":1769617101211,"stop":1769617103164,"duration":1953},"status":"passed","steps":[{"name":"导航到: 'https://opensource-demo.orangehrmlive.com/web/index.php/pim/viewEmployeeList'","time":{"start":1769617101211,"stop":1769617102346,"duration":1135},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://opensource-demo.orangehrmlive.com/web/index.php/pim/viewEmployeeList'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"等待元素可见","time":{"start":1769617102365,"stop":1769617103164,"duration":799},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"'.oxd-table'"},{"name":"timeout","value":"10000"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n        测试员工完整生命周期\n\n        完整 E2E 流程:\n        1. 创建新员工\n        2. 搜索验证员工存在\n        3. 编辑员工信息\n        4. 再次验证修改\n        5. 删除员工\n        6. 验证员工已删除\n        ","status":"failed","statusMessage":"AssertionError: 创建员工失败\nassert ('viewPersonalDetails' in 'https://opensource-demo.orangehrmlive.com/web/index.php/pim/addEmployee' or False)\n +  where False = is_success_toast_displayed()\n +    where is_success_toast_displayed = <pages.employee_form_page.EmployeeFormPage object at 0x7f60dd0d2540>.is_success_toast_displayed","statusTrace":"tests/test_employee_e2e.py:300: in test_employee_full_lifecycle\n    assert \"viewPersonalDetails\" in current_url or form.is_success_toast_displayed(), (\nE   AssertionError: 创建员工失败\nE   assert ('viewPersonalDetails' in 'https://opensource-demo.orangehrmlive.com/web/index.php/pim/addEmployee' or False)\nE    +  where False = is_success_toast_displayed()\nE    +    where is_success_toast_displayed = <pages.employee_form_page.EmployeeFormPage object at 0x7f60dd0d2540>.is_success_toast_displayed","steps":[{"name":"步骤 1: 创建新员工","time":{"start":1769617103165,"stop":1769617112848,"duration":9683},"status":"failed","statusMessage":"AssertionError: 创建员工失败\nassert ('viewPersonalDetails' in 'https://opensource-demo.orangehrmlive.com/web/index.php/pim/addEmployee' or False)\n +  where False = is_success_toast_displayed()\n +    where is_success_toast_displayed = <pages.employee_form_page.EmployeeFormPage object at 0x7f60dd0d2540>.is_success_toast_displayed\n","statusTrace":"  File \"/home/runner/work/playwright-test/playwright-test/tests/test_employee_e2e.py\", line 300, in test_employee_full_lifecycle\n    assert \"viewPersonalDetails\" in current_url or form.is_success_toast_displayed(), (\n","steps":[{"name":"点击添加员工标签","time":{"start":1769617103165,"stop":1769617105414,"duration":2249},"status":"passed","steps":[{"name":"点击元素","time":{"start":1769617103165,"stop":1769617104410,"duration":1245},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"'.oxd-topbar-body-nav a:has-text('Add Employee')'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"等待元素可见","time":{"start":1769617105736,"stop":1769617105745,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"'input[name='firstName']'"},{"name":"timeout","value":"10000"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"填写员工姓名: 'E2E617103' 'Test' 'Employee'","time":{"start":1769617105745,"stop":1769617105790,"duration":45},"status":"passed","steps":[{"name":"输入文本","time":{"start":1769617105745,"stop":1769617105759,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"'input[name='firstName']'"},{"name":"text","value":"'E2E617103'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"输入文本","time":{"start":1769617105759,"stop":1769617105769,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"'input[name='middleName']'"},{"name":"text","value":"'Test'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"输入文本","time":{"start":1769617105769,"stop":1769617105790,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"'input[name='lastName']'"},{"name":"text","value":"'Employee'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"first_name","value":"'E2E617103'"},{"name":"middle_name","value":"'Test'"},{"name":"last_name","value":"'Employee'"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"点击保存按钮","time":{"start":1769617105800,"stop":1769617105842,"duration":42},"status":"passed","steps":[{"name":"点击元素","time":{"start":1769617105800,"stop":1769617105842,"duration":42},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"'button[type='submit']'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"a028724448a0d84e","name":"新员工 ID","source":"a028724448a0d84e.txt","type":"text/plain","size":4},{"uid":"342d1425d8916166","name":"员工姓名","source":"342d1425d8916166.txt","type":"text/plain","size":23}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":9,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"d55d55119ba726cf","name":"失败截图","source":"d55d55119ba726cf.png","type":"image/png","size":111954},{"uid":"f99b6145f070c7f1","name":"log","source":"f99b6145f070c7f1.txt","type":"text/plain","size":14660},{"uid":"aab741cca40364f8","name":"stdout","source":"aab741cca40364f8.txt","type":"text/plain","size":4274}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":10,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page::0","time":{"start":1769617113019,"stop":1769617113022,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"logged_in_page::0","time":{"start":1769617113019,"stop":1769617113019,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context::0","time":{"start":1769617113023,"stop":1769617113028,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"story","value":"E2E 完整流程"},{"name":"severity","value":"critical"},{"name":"feature","value":"员工管理"},{"name":"tag","value":"pim"},{"name":"tag","value":"e2e"},{"name":"tag","value":"smoke"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_employee_e2e"},{"name":"subSuite","value":"TestEmployeeE2E"},{"name":"host","value":"runnervmymu0l"},{"name":"thread","value":"5087-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_employee_e2e"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[{"uid":"54d7a5061931b4a7","status":"failed","statusDetails":"AssertionError: 创建员工失败\nassert ('viewPersonalDetails' in 'https://opensource-demo.orangehrmlive.com/web/index.php/pim/addEmployee' or False)\n +  where False = is_success_toast_displayed()\n +    where is_success_toast_displayed = <pages.employee_form_page.EmployeeFormPage object at 0x7f3b91cd3500>.is_success_toast_displayed","time":{"start":1769617096797,"stop":1769617106183,"duration":9386}},{"uid":"81e366304ec8dc41","status":"failed","statusDetails":"AssertionError: 未找到刚创建的员工 (ID: 0444)\nassert not True\n +  where True = has_no_records()\n +    where has_no_records = <pages.pim_page.PIMPage object at 0x7f60dd096510>.has_no_records","time":{"start":1769617086665,"stop":1769617095102,"duration":8437}},{"uid":"4f0d904a19ddd1da","status":"failed","statusDetails":"AssertionError: 创建员工失败\nassert ('viewPersonalDetails' in 'https://opensource-demo.orangehrmlive.com/web/index.php/pim/addEmployee' or False)\n +  where False = is_success_toast_displayed()\n +    where is_success_toast_displayed = <pages.employee_form_page.EmployeeFormPage object at 0x7f6faff89e50>.is_success_toast_displayed","time":{"start":1769617079214,"stop":1769617088927,"duration":9713}},{"uid":"16a96a132329831","status":"failed","statusDetails":"AssertionError: 未找到刚创建的员工 (ID: 0443)\nassert not True\n +  where True = has_no_records()\n +    where has_no_records = <pages.pim_page.PIMPage object at 0x7f3b91c8ba40>.has_no_records","time":{"start":1769617077235,"stop":1769617088427,"duration":11192}},{"uid":"bf8db093a1dc560b","status":"failed","statusDetails":"AssertionError: 未找到刚创建的员工 (ID: 0442)\nassert not True\n +  where True = has_no_records()\n +    where has_no_records = <pages.pim_page.PIMPage object at 0x7f60dd280b60>.has_no_records","time":{"start":1769617067507,"stop":1769617078618,"duration":11111}},{"uid":"c759e127461dcce5","status":"failed","statusDetails":"AssertionError: 未找到刚创建的员工 (ID: 0441)\nassert not True\n +  where True = has_no_records()\n +    where has_no_records = <pages.pim_page.PIMPage object at 0x7f6fafda1f10>.has_no_records","time":{"start":1769617056547,"stop":1769617070540,"duration":13993}},{"uid":"96dc7edfccf49eaf","status":"failed","statusDetails":"AssertionError: 未找到刚创建的员工 (ID: 0440)\nassert not True\n +  where True = has_no_records()\n +    where has_no_records = <pages.pim_page.PIMPage object at 0x7f3b91d824b0>.has_no_records","time":{"start":1769617045644,"stop":1769617065183,"duration":19539}},{"uid":"61ed25c8186f9ebd","status":"failed","statusDetails":"AssertionError: 未找到刚创建的员工 (ID: 0438)\nassert not True\n +  where True = has_no_records()\n +    where has_no_records = <pages.pim_page.PIMPage object at 0x7f6fafd3aa20>.has_no_records","time":{"start":1769617030268,"stop":1769617041810,"duration":11542}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":2},"items":[{"uid":"a7b5d4334caf7c4c","status":"failed","statusDetails":"AssertionError: 创建员工失败\nassert ('viewPersonalDetails' in 'https://opensource-demo.orangehrmlive.com/web/index.php/pim/addEmployee' or False)\n +  where False = is_success_toast_displayed()\n +    where is_success_toast_displayed = <pages.employee_form_page.EmployeeFormPage object at 0x7f16507d54d0>.is_success_toast_displayed","time":{"start":1769616363610,"stop":1769616372647,"duration":9037}}]},"tags":["pim","smoke","e2e"]},"source":"905e7640dec5cf0b.json","parameterValues":[]}